{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["\n'use strict';\n\nvar angular = require('bella-bower/angular/angular');\n\nvar app=angular.module('Bella');\n\n//Template service\napp.factory('Templates',function(){\n\treturn {\n\t\tnoticeDescription:function(actions){\n\t\t\treturn function(notice){\n\t\t\t\tvar filter={},template=(actions&&actions[notice.action_type_id]&&actions[notice.action_type_id].notice_template)||[];\n\t\t\t\ttemplate.match(/\\[[^\\]]+\\]/g).forEach(function(value){\n\t\t\t\t\tfilter[value.replace(/\\[|\\]/g,'')]=value;\n\t\t\t\t});\n\t\t\t\tfor(var item in filter)\n\t\t\t\t\ttemplate=template.replace(filter[item],notice[item]||item);\n\t\t\t\treturn template;\n\t\t\t};\n\t\t},\n\t\tnoticeLink:function(actions){\n\t\t\treturn function(notice){\n\t\t\t\tvar link=(actions&&actions[notice.action_type_id]&&actions[notice.action_type_id].link)||'';\n\t\t\t\treturn link.replace('source_id',notice.source_id);\n\t\t\t};\n\t\t}\n\t};\n});\n\n// Auto Complete Busqueda general\napp.controller('AutoCompleteCtrl', function($scope,$http,$location) {\n\n\t//Envia formulario\n\t$scope.selectedItem = function(result){\n\n\t\tif (result.kind === 'suggestions') {\n\n\t\t\twindow.location = '/products/'+result.originalObject.id;\n\n\t\t}else if(result.kind === 'categories'){\n\n\t\t\tvar filter = {\"categories\":{\"name\":result.title,\"id\":result.originalObject.id}};\n\t\t\t$location.search('refine','['+JSON.stringify(filter)+']');\n\t\t\t$location.path('/products/');\n            window.location = $location.absUrl();\n\n\t\t}else{\n\n\t\t\t$('#searchForm').submit();\n\n\t\t}\n\t};\n});\n\n//# sourceMappingURL=app.js.map\n"]}