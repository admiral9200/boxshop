{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["\r\n'use strict';\r\n\r\nvar angular = require('bella-bower/angular/angular');\r\n\r\nvar app=angular.module('Bella');\r\n\r\n//Template service\r\napp.factory('Templates',function(){\r\n\treturn {\r\n\t\tnoticeDescription:function(actions){\r\n\t\t\treturn function(notice){\r\n\t\t\t\tvar filter={},template=(actions&&actions[notice.action_type_id]&&actions[notice.action_type_id].notice_template)||[];\r\n\t\t\t\ttemplate.match(/\\[[^\\]]+\\]/g).forEach(function(value){\r\n\t\t\t\t\tfilter[value.replace(/\\[|\\]/g,'')]=value;\r\n\t\t\t\t});\r\n\t\t\t\tfor(var item in filter)\r\n\t\t\t\t\ttemplate=template.replace(filter[item],notice[item]||item);\r\n\t\t\t\treturn template;\r\n\t\t\t};\r\n\t\t},\r\n\t\tnoticeLink:function(actions){\r\n\t\t\treturn function(notice){\r\n\t\t\t\tvar link=(actions&&actions[notice.action_type_id]&&actions[notice.action_type_id].link)||'';\r\n\t\t\t\treturn link.replace('source_id',notice.source_id);\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n});\r\n\r\n// Auto Complete Busqueda general\r\napp.controller('AutoCompleteCtrl', function($scope,$http,$location) {\r\n\r\n\t//Envia formulario\r\n\t$scope.selectedItem = function(result){\r\n\r\n\t\tif (result.kind === 'suggestions') {\r\n\r\n\t\t\twindow.location = '/products/'+result.originalObject.id;\r\n\r\n\t\t}else if(result.kind === 'categories'){\r\n\r\n\t\t\tvar filter = {\"categories\":{\"name\":result.title,\"id\":result.originalObject.id}};\r\n\t\t\t$location.search('refine','['+JSON.stringify(filter)+']');\r\n\t\t\t$location.path('/products/');\r\n            window.location = $location.absUrl();\r\n\r\n\t\t}else{\r\n\r\n\t\t\t$('#searchForm').submit();\r\n\r\n\t\t}\r\n\t};\r\n});\r\n\r\n//# sourceMappingURL=app.js.map\r\n"]}